@model IEnumerable<AdmissionsWebsite.Student>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.SubmissionDate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CurrentGPA)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CombinedSATScore)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Semester.SemesterName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.AdmissionDecision.DecisionType)
        </th>
        <th></th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
            @Html.DisplayFor(modelItem => item.MiddleName)
            @Html.DisplayFor(modelItem => item.LastName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.SubmissionDate)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CurrentGPA)

            @if (item.CurrentGPA < 3)
            {
                <span class="label label-warning">!</span>
            }
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CombinedSATScore)

            @if (item.CombinedSATScore < 1000)
            {
                <span class="label label-warning">!</span>
            }
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Semester.SemesterName)
            @Html.DisplayFor(modelItem => item.EnrollmentYear)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.AdmissionDecision.DecisionType)
        </td>

        <td>
            @Html.ActionLink("Edit", "Edit", new { id=item.StudentId }) |
            @Html.ActionLink("Details", "Details", new { id=item.StudentId }) |
            @Html.ActionLink("Delete", "Delete", new { id=item.StudentId })
        </td>

        @if (item.CombinedSATScore < 1000 || item.CurrentGPA < 3)
        {
            <td class="alert alert-dismissible alert-warning">
                Fail the minimum qualification.
            </td>
        }

    </tr>
}

</table>

<hr />
<p style="text-align: center;">
    @Html.ActionLink("Gender", "Index", "Genders") |
    @Html.ActionLink("Primary Area of Interest", "Index", "Majors") |
    @Html.ActionLink("Enrollment Semester", "Index", "Semesters") |
    @Html.ActionLink("Enrollment Decision", "Index", "AdmissionDecisions")
</p>
